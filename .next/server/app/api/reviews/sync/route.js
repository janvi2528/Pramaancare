(()=>{var e={};e.id=553,e.ids=[553],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2691:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});let s=require("fs");var r=a(3873);class i{constructor(){this.dataPath=r.join(process.cwd(),"src/data/reviews.json"),this.practoUrl="https://www.practo.com/gurgaon/therapist/prerna-sethi-psychotherapist/recommended"}async ensureDataFile(){let e=r.dirname(this.dataPath);if(s.existsSync(e)||s.mkdirSync(e,{recursive:!0}),!s.existsSync(this.dataPath)){let e={reviews:[],lastUpdated:new Date().toISOString(),manualReviews:[]};s.writeFileSync(this.dataPath,JSON.stringify(e,null,2))}}generateReviewId(e){let t=`${e.name}-${e.quote?.substring(0,50)}`;return`practo-${Buffer.from(t).toString("base64").substring(0,10)}`}async loadExistingReviews(){await this.ensureDataFile();let e=JSON.parse(s.readFileSync(this.dataPath,"utf8"));return{reviews:e.reviews||[],manualReviews:e.manualReviews||[]}}async saveReviews(e,t){let a=JSON.stringify({reviews:e,manualReviews:t,lastUpdated:new Date().toISOString()},null,2);try{JSON.parse(a),s.writeFileSync(this.dataPath,a)}catch(e){throw Error("Failed to save reviews: Invalid JSON data")}}async scrapePractoReviews(){return[{name:"Verified Patient",title:"",quote:"I cannot speak highly enough of Dr. Prerna. As a clinical psychologist, she brings a rare combination of deep insight, maturity, and compassion that makes a genuine difference in her clients' lives. Her understanding of complex emotional and psychological issues is remarkable, and she approaches each session with a calm, focused presence that instantly puts one at ease. What sets her apart is her ability to balance empathy with firmness—she is warm and compassionate, but also knows when to be gently assertive and direct. She never sugarcoats, but always guides with care and clarity. Her professionalism and commitment are evident in every interaction; she listens without judgment, remembers every detail, and tailors her guidance thoughtfully and skillfully. Thanks to her steady support and sharp insight, there has been meaningful progress and much-needed clarity in our journey. She is a true professional, deeply dedicated to her work, and I feel grateful to have found someone so grounded, wise, and trustworthy. Highly recommended to anyone seeking not just therapy, but true psychological growth.",date:new Date(Date.now()-6048e5).toISOString(),source:"practo",sourceUrl:this.practoUrl},{name:"RANJANA NARSHIMAN",title:"",quote:"She is very solution oriented. Extremely practical, realistic, and calm. She is able to point out any hurdle/problem and offers a very positive solution for things. I am able to talk to her about the smallest of problems, and have absolute faith in the path she shows me to overcome the obstacles. My sessions with her have made a huge difference in the way I have handled things. I am very grateful to have her as my psychologist.",date:new Date(Date.now()-12096e5).toISOString(),source:"practo",sourceUrl:this.practoUrl},{name:"Verified Patient",title:"",quote:"My sessions with Prerna Sethi have been truly transformative. With deep empathy and insight, she helped me navigate complex personal relationships, improve my communication, and work through long-standing anxiety and trauma. Prerna has a remarkable ability to put one at ease and intuitively grasp the core of the issue—she didn't need many words to understand where my story began; she truly 'caught the nerve' of the problem. Her gentle yet precise guidance during a particularly difficult phase of motherhood has impacted my approach to parenting, relationships, and life itself. I've come away with greater emotional resilience and a deeper understanding of myself.",date:new Date(Date.now()-18144e5).toISOString(),source:"practo",sourceUrl:this.practoUrl},{name:"Verified Patient",title:"",quote:"She has helped me overcome my depressive episode as well as my anxiety. She is a keen and attentive listener with a lot of tricks and tips up her sleeve, which help to tackle problems in a healthy manner. Would recommend anyone with anxiety and/or depressive episodes to seek her for counselling to set upon a healing journey.",date:new Date(Date.now()-2592e6).toISOString(),source:"practo",sourceUrl:this.practoUrl},{name:"Verified Patient",title:"",quote:"Not just her skills and expertise in handling the patients but the psychologist's empathetic approach towards her patients is beyond exceptional. Go for it without having a second thought.",date:new Date(Date.now()-3888e6).toISOString(),source:"practo",sourceUrl:this.practoUrl}].map(e=>({...e,id:this.generateReviewId(e)}))}async updateReviews(){try{let{reviews:e,manualReviews:t}=await this.loadExistingReviews(),a=await this.scrapePractoReviews(),s=new Set(e.map(e=>e.id)),r=a.filter(e=>!s.has(e.id)),i=[...e,...r];return await this.saveReviews(i,t),{newReviews:r.length,totalReviews:i.length}}catch(e){throw e}}async getAllReviews(){let{reviews:e,manualReviews:t}=await this.loadExistingReviews();return[...t,...e]}}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9870:(e,t,a)=>{"use strict";a.r(t),a.d(t,{patchFetch:()=>v,routeModule:()=>w,serverHooks:()=>g,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>y});var s={};a.r(s),a.d(s,{POST:()=>p});var r=a(6559),i=a(8088),n=a(7719),o=a(2190);let l=require("node-cron");var h=a.n(l),c=a(2691);class u{constructor(){this.isRunning=!1,this.scraper=new c.J}start(){h().schedule("0 9 * * *",async()=>{if(!this.isRunning){this.isRunning=!0;try{(await this.scraper.updateReviews()).newReviews}catch(e){}finally{this.isRunning=!1}}},{timezone:"Asia/Kolkata"})}async runManually(){if(this.isRunning)throw Error("Review scraping already in progress");this.isRunning=!0;try{return await this.scraper.updateReviews()}finally{this.isRunning=!1}}stop(){h().getTasks().forEach(e=>e.stop())}}let d=null;async function p(){try{let e=d;if(!e)return o.NextResponse.json({success:!1,error:"Review scheduler not initialized"},{status:500});let t=await e.runManually();return o.NextResponse.json({success:!0,message:"Manual sync completed successfully!",newReviews:t.newReviews,totalReviews:t.totalReviews})}catch(e){return o.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Failed to run manual sync"},{status:500})}}(d=new u).start();let w=new r.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/reviews/sync/route",pathname:"/api/reviews/sync",filename:"route",bundlePath:"app/api/reviews/sync/route"},resolvedPagePath:"/Users/mayurchauhan/Documents/GitHub/Pramaancare/New Pramaancare/src/app/api/reviews/sync/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:m,workUnitAsyncStorage:y,serverHooks:g}=w;function v(){return(0,n.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:y})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[447,580],()=>a(9870));module.exports=s})();